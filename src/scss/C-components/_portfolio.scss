//* ------------------------------------------------------------
//* PORTFOLIO COMPONENT PARTIAL FOR INDEX.HTML, NOT PORTFOLIO.HTML
//*
//* Place all styles for the reusable .portfolio component here.
//* Includes BEM classes like .portfolio, .portfolio__heading, .portfolio__intro, etc.
//* Do NOT put global resets or page-level layout styles here.
//* Only styles specific to the portfolio component belong in this file.
//* ------------------------------------------------------------

@use 'A-abstracts' as a;

.portfolio {
  -webkit-margin-after: a.rem(64);
  margin-block-end: a.rem(64);
  padding-block: a.rem(50);

  .portfolio__heading {
    text-align: center;
    margin: 0 0 a.rem(20) 0;
  }

  &__intro {
    text-align: center;
    font-size: a.rem(18);
    margin-bottom: a.rem(20);
    color: var(--dark-text);
    margin-left: auto;
    margin-right: auto;
    text-wrap: balance;
  }

  &__row {
    display: grid;
    gap: a.rem(20);
    padding: 0 a.rem(10);
    justify-items: center;
    align-items: start; // Prevent cards from stretching to match tallest

    // Smooth auto-fit grid - automatically adjusts columns based on available space
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    max-width: a.rem(1200);
    margin: 0 auto;

    // Smooth transitions for layout changes
    transition:
      grid-template-columns 0.3s ease,
      max-width 0.3s ease,
      gap 0.3s ease;

    // Container query enhancement for modern browsers
    container-type: inline-size;

    // Progressive enhancement with container queries
    @supports (container-type: inline-size) {
      @container (min-width: 600px) {
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: a.rem(24);
      }

      @container (min-width: 900px) {
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: a.rem(28);
      }
    }

    // Fix for very small screens
    @include a.breakpoint-down('499.98') {
      padding: 0;
      gap: a.rem(15);
    }
  }
}
